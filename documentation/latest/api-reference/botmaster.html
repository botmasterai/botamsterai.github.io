
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Botmaster Â· GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.2">
        
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-versions/plugin.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-expandable-chapters/expandable-chapters.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="base-bot.html" />
    
    
    <link rel="prev" href="./" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../getting-started/">
            
                <a href="../getting-started/">
            
                    
                    Getting started
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="../getting-started/installation.html">
            
                <a href="../getting-started/installation.html">
            
                    
                    Installation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2" data-path="../getting-started/quickstart.html">
            
                <a href="../getting-started/quickstart.html">
            
                    
                    Quickstart
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3" data-path="../getting-started/webhooks.html">
            
                <a href="../getting-started/webhooks.html">
            
                    
                    Webhooks
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="../messaging-platforms.html">
            
                <a href="../messaging-platforms.html">
            
                    
                    Messaging Platforms
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="../working-with-botmaster/">
            
                <a href="../working-with-botmaster/">
            
                    
                    Working With Botmaster
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="../working-with-botmaster/bot-object.html">
            
                <a href="../working-with-botmaster/bot-object.html">
            
                    
                    Bot object
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="../working-with-botmaster/middleware.html">
            
                <a href="../working-with-botmaster/middleware.html">
            
                    
                    Middleware
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3" data-path="../working-with-botmaster/incoming-update.html">
            
                <a href="../working-with-botmaster/incoming-update.html">
            
                    
                    Incoming update
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.4" data-path="../working-with-botmaster/outgoing-message.html">
            
                <a href="../working-with-botmaster/outgoing-message.html">
            
                    
                    Outgoing message
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5" data-path="../working-with-botmaster/botmaster-object.html">
            
                <a href="../working-with-botmaster/botmaster-object.html">
            
                    
                    Botmaster object
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.6" data-path="../working-with-botmaster/writing-your-own-bot-class.html">
            
                <a href="../working-with-botmaster/writing-your-own-bot-class.html">
            
                    
                    Writing your own bot class
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="../middlewares/">
            
                <a href="../middlewares/">
            
                    
                    Middlewares
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="../middlewares/fulfill.html">
            
                <a href="../middlewares/fulfill.html">
            
                    
                    fulfill
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="../tutorials/">
            
                <a href="../tutorials/">
            
                    
                    Tutorials
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1" data-path="../tutorials/using-fulfill.html">
            
                <a href="../tutorials/using-fulfill.html">
            
                    
                    Using Fulfill
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.2" data-path="../tutorials/watson-conversation.html">
            
                <a href="../tutorials/watson-conversation.html">
            
                    
                    Watson Conversation
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="../articles/">
            
                <a href="../articles/">
            
                    
                    Articles
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.1" data-path="../articles/frameworks-comparison.html">
            
                <a href="../articles/frameworks-comparison.html">
            
                    
                    Framworks comparison
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8" data-path="./">
            
                <a href="./">
            
                    
                    API reference
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter active" data-level="1.8.1" data-path="botmaster.html">
            
                <a href="botmaster.html">
            
                    
                    Botmaster
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.2" data-path="base-bot.html">
            
                <a href="base-bot.html">
            
                    
                    BaseBot
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.3" data-path="outgoing-message.html">
            
                <a href="outgoing-message.html">
            
                    
                    OutgoingMessage
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.9" data-path="../changelog.html">
            
                <a href="../changelog.html">
            
                    
                    Changelog
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >Botmaster</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <p><a name="Botmaster"></a></p>
<h2 id="botmaster">Botmaster</h2>
<p>The Botmaster class to rule them all</p>
<p><strong>Kind</strong>: global class  </p>
<ul>
<li><a href="#Botmaster">Botmaster</a><ul>
<li><a href="#new_Botmaster_new">new Botmaster(settings)</a></li>
<li><a href="#Botmaster+addBot">.addBot(bot)</a> &#x21D2; <code>Botmaster</code></li>
<li><a href="#Botmaster+getBot">.getBot(options)</a> &#x21D2; <code>BaseBot</code></li>
<li><a href="#Botmaster+getBots">.getBots(botType)</a> &#x21D2; <code>Array</code></li>
<li><a href="#Botmaster+removeBot">.removeBot(bot)</a> &#x21D2; <code>Botmaster</code></li>
<li><a href="#Botmaster+use">.use(middleware)</a> &#x21D2; <code>Botmaster</code></li>
<li><a href="#Botmaster+useWrapped">.useWrapped(incomingMiddleware, outgoingMiddleware)</a> &#x21D2; <code>Botmaster</code></li>
</ul>
</li>
</ul>
<p><a name="new_Botmaster_new"></a></p>
<h3 id="new-botmastersettings">new Botmaster(settings)</h3>
<p>sets up a botmaster object attached to the correct server if one is set
as a parameter. If not, it creates its own http server</p>
<table>
<thead>
<tr>
<th>Param</th>
<th>Type</th>
</tr>
</thead>
<tbody>
<tr>
<td>settings</td>
<td><code>object</code></td>
</tr>
</tbody>
</table>
<p><strong>Example</strong>  </p>
<pre><code class="lang-js"><span class="hljs-comment">// attach the botmaster generated server to port 5000 rather than the default 3000</span>
<span class="hljs-keyword">const</span> botmaster = <span class="hljs-keyword">new</span> Botmaster({
  port: <span class="hljs-number">5000</span>,
});
</code></pre>
<p><strong>Example</strong>  </p>
<pre><code class="lang-js"><span class="hljs-keyword">const</span> http = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;http&apos;</span>);

<span class="hljs-keyword">const</span> myServer = http.createServer()
<span class="hljs-comment">// use my own server rather than letting botmaster creat its own.</span>
<span class="hljs-keyword">const</span> botmaster = <span class="hljs-keyword">new</span> Botmaster({
  server: myServer,
});
</code></pre>
<p><a name="Botmaster+addBot"></a></p>
<h3 id="botmasteraddbotbot-&#x21D2;-botmaster">botmaster.addBot(bot) &#x21D2; <code>Botmaster</code></h3>
<p>Add an existing bot to this instance of Botmaster</p>
<p><strong>Kind</strong>: instance method of <code>Botmaster</code><br><strong>Returns</strong>: <code>Botmaster</code> - returns the botmaster object for chaining  </p>
<table>
<thead>
<tr>
<th>Param</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>bot</td>
<td><code>BaseBot</code></td>
<td>the bot object to add to botmaster. Must be from a subclass of BaseBot</td>
</tr>
</tbody>
</table>
<p><a name="Botmaster+getBot"></a></p>
<h3 id="botmastergetbotoptions-&#x21D2;-basebot">botmaster.getBot(options) &#x21D2; <code>BaseBot</code></h3>
<p>Extract First bot of given type or provided id.</p>
<p><strong>Kind</strong>: instance method of <code>Botmaster</code><br><strong>Returns</strong>: <code>BaseBot</code> - The bot found of a class that inherits of BaseBot  </p>
<table>
<thead>
<tr>
<th>Param</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>options</td>
<td><code>object</code></td>
<td>must be { type: &apos;someBotType} or { id: someBotId }.</td>
</tr>
</tbody>
</table>
<p><a name="Botmaster+getBots"></a></p>
<h3 id="botmastergetbotsbottype-&#x21D2;-array">botmaster.getBots(botType) &#x21D2; <code>Array</code></h3>
<p>Extract all bots of given type.</p>
<p><strong>Kind</strong>: instance method of <code>Botmaster</code><br><strong>Returns</strong>: <code>Array</code> - Array of bots found  </p>
<table>
<thead>
<tr>
<th>Param</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>botType</td>
<td><code>string</code></td>
<td>(there can be multiple bots of a same type)</td>
</tr>
</tbody>
</table>
<p><a name="Botmaster+removeBot"></a></p>
<h3 id="botmasterremovebotbot-&#x21D2;-botmaster">botmaster.removeBot(bot) &#x21D2; <code>Botmaster</code></h3>
<p>Remove an existing bot from this instance of Botmaster</p>
<p><strong>Kind</strong>: instance method of <code>Botmaster</code><br><strong>Returns</strong>: <code>Botmaster</code> - returns the botmaster object for chaining  </p>
<table>
<thead>
<tr>
<th>Param</th>
<th>Type</th>
</tr>
</thead>
<tbody>
<tr>
<td>bot</td>
<td><code>Object</code></td>
</tr>
</tbody>
</table>
<p><a name="Botmaster+use"></a></p>
<h3 id="botmasterusemiddleware-&#x21D2;-botmaster">botmaster.use(middleware) &#x21D2; <code>Botmaster</code></h3>
<p>Add middleware to this botmaster object
This function is just sugar for <code>middleware.__use</code> in them</p>
<p><strong>Kind</strong>: instance method of <code>Botmaster</code><br><strong>Returns</strong>: <code>Botmaster</code> - returns the botmaster object so you can chain middleware  </p>
<table>
<thead>
<tr>
<th>Param</th>
<th>Type</th>
</tr>
</thead>
<tbody>
<tr>
<td>middleware</td>
<td><code>object</code></td>
</tr>
</tbody>
</table>
<p><strong>Example</strong>  </p>
<pre><code class="lang-js"><span class="hljs-comment">// The middleware param object is something that looks like this for incoming:</span>
{
 type: <span class="hljs-string">&apos;incoming&apos;</span>,
 name: <span class="hljs-string">&apos;my-incoming-middleware&apos;</span>,
 controller: (bot, update, next) =&gt; {
   <span class="hljs-comment">// do stuff with update,</span>
   <span class="hljs-comment">// call next (or return a promise)</span>
 },
 <span class="hljs-comment">// includeEcho: true (defaults to false), opt-in to get echo updates</span>
 <span class="hljs-comment">// includeDelivery: true (defaults to false), opt-in to get delivery updates</span>
 <span class="hljs-comment">// includeRead: true (defaults to false), opt-in to get user read updates</span>
}

<span class="hljs-comment">// and like this for outgoing middleware</span>

{
 type: <span class="hljs-string">&apos;outgoing&apos;</span>,
 name: <span class="hljs-string">&apos;my-outgoing-middleware&apos;</span>,
 controller: (bot, update, message, next) =&gt; {
   <span class="hljs-comment">// do stuff with message,</span>
   <span class="hljs-comment">// call next (or return a promise)</span>
 }
}
</code></pre>
<p><a name="Botmaster+useWrapped"></a></p>
<h3 id="botmasterusewrappedincomingmiddleware-outgoingmiddleware-&#x21D2;-botmaster">botmaster.useWrapped(incomingMiddleware, outgoingMiddleware) &#x21D2; <code>Botmaster</code></h3>
<p>Add wrapped middleware to this botmaster instance. Wrapped middleware
places the incoming middleware at beginning of incoming stack and
the outgoing middleware at end of outgoing stack.
This function is just sugar <code>middleware.useWrapped</code>.</p>
<p><strong>Kind</strong>: instance method of <code>Botmaster</code><br><strong>Returns</strong>: <code>Botmaster</code> - returns the botmaster object so you can chain middleware  </p>
<table>
<thead>
<tr>
<th>Param</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>incomingMiddleware</td>
<td><code>object</code></td>
<td></td>
</tr>
<tr>
<td>outgoingMiddleware</td>
<td><code>object</code></td>
<td>The middleware objects are as you&apos;d expect them to be (see use)</td>
</tr>
</tbody>
</table>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="./" class="navigation navigation-prev " aria-label="Previous page: API reference">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="base-bot.html" class="navigation navigation-next " aria-label="Next page: BaseBot">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Botmaster","level":"1.8.1","depth":2,"next":{"title":"BaseBot","level":"1.8.2","depth":2,"path":"api-reference/base-bot.md","ref":"api-reference/base-bot.md","articles":[]},"previous":{"title":"API reference","level":"1.8","depth":1,"path":"api-reference/index.md","ref":"api-reference/index.md","articles":[{"title":"Botmaster","level":"1.8.1","depth":2,"path":"api-reference/botmaster.md","ref":"api-reference/botmaster.md","articles":[]},{"title":"BaseBot","level":"1.8.2","depth":2,"path":"api-reference/base-bot.md","ref":"api-reference/base-bot.md","articles":[]},{"title":"OutgoingMessage","level":"1.8.3","depth":2,"path":"api-reference/outgoing-message.md","ref":"api-reference/outgoing-message.md","articles":[]}]},"dir":"ltr"},"config":{"plugins":["versions","expandable-chapters"],"root":"./docs","styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"versions":{"type":"branches","gitbookConfigURL":"https://raw.githubusercontent.com/botmasterai/botmasterai.github.io/master/book.json","options":[{"value":"http://botmasterai.com/documentation/latest/","text":"latest"},{"value":"http://botmasterai.com/documentation/latest/","text":"Version 3.0.8","selected":true},{"value":"http://botmasterai.com/documentation/v2.3.1/","text":"Version 2.3.1"}]},"expandable-chapters":{},"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"theme":"default","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"gitbook":"*"},"file":{"path":"api-reference/botmaster.md","mtime":"2017-05-15T22:42:06.000Z","type":"markdown"},"gitbook":{"version":"3.2.2","time":"2017-05-15T22:43:59.646Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-versions/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-expandable-chapters/expandable-chapters.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

